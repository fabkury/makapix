# Makapix Remote Development Environment
# Copy this to .env.remote and configure your values

# Environment
ENVIRONMENT=remote
BASE_URL=https://dev.makapix.club

# Database
# Admin user (site owner) - full privileges for migrations and schema changes
DB_ADMIN_USER=makapix_admin
DB_ADMIN_PASSWORD=change_me_in_production
# API worker user - limited privileges (read/write only, no DDL)
DB_API_WORKER_USER=makapix_api
DB_API_WORKER_PASSWORD=change_me_in_production
# Database name and connection
DB_DATABASE=makapix
DB_HOST=db
DB_PORT=5432

# Redis/Celery
CELERY_BROKER_URL=redis://cache:6379/0
CELERY_RESULT_BACKEND=redis://cache:6379/0

# JWT Configuration
JWT_SECRET_KEY=remote-dev-secret-change-in-production
JWT_ALGORITHM=HS256
# Access token expires after this many minutes (240 = 4 hours recommended)
# Longer tokens reduce session interruptions but increase security risk if compromised
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=240
# Refresh token expires after this many days
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# GitHub OAuth App (REMOTE)
# Create at: https://github.com/settings/applications/new
# Homepage URL: https://dev.makapix.club
# Authorization callback URL: https://dev.makapix.club/api/auth/github/callback
GITHUB_OAUTH_CLIENT_ID=your_remote_github_oauth_client_id
GITHUB_OAUTH_CLIENT_SECRET=your_remote_github_oauth_client_secret
GITHUB_REDIRECT_URI=https://dev.makapix.club/api/auth/github/callback

# GitHub App (REMOTE)
# Create at: https://github.com/settings/apps/new
# Homepage URL: https://dev.makapix.club
# Callback URL: https://dev.makapix.club/api/auth/github/callback
# Setup URL: https://dev.makapix.club/github-app-setup
# Webhook URL: https://dev.makapix.club/api/webhooks/github
GITHUB_APP_ID=your_remote_github_app_id
GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----
your_remote_private_key_here
-----END RSA PRIVATE KEY-----"
GITHUB_APP_SLUG=your-remote-app-slug-here

# MQTT
# Internal API connection (non-TLS, within docker network)
MQTT_BROKER_HOST=mqtt
MQTT_BROKER_PORT=1883
MQTT_TLS_ENABLED=false
MQTT_USERNAME=api-server
MQTT_PASSWORD=change-me-in-production
# External mTLS port for devices
MQTT_PUBLIC_HOST=dev.makapix.club
MQTT_PUBLIC_PORT=8883
MQTT_WS_PORT=9001
# Certificate paths (for generating client certs)
MQTT_CA_FILE=/certs/ca.crt
MQTT_CA_KEY_FILE=/certs/ca.key
MQTT_PASSWD_FILE=/mqtt-config/passwords

# API Configuration
API_PORT=8000
API_BASE_URL=https://dev.makapix.club/api

# Web Configuration
WEB_PORT=3000
NEXT_PUBLIC_API_BASE_URL=https://dev.makapix.club
NEXT_PUBLIC_MQTT_WS_URL=wss://dev.makapix.club:9001

# Logging
LOG_LEVEL=INFO

