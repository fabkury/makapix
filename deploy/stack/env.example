# Makapix VPS Stack Environment (deploy/stack)
#
# This file is used as a template for `deploy/stack/.env`.
# We use `env.example` (not `.env.example`) because dotfiles are globally ignored in this repo.
#
# Production website: https://makapix.club
#
# Naming conventions:
# - ROOT_DOMAIN: the main production domain (makapix.club)
# - WEB_DOMAIN: the web application domain (makapix.club)

# --- Domains ---
ROOT_DOMAIN=makapix.club
WEB_DOMAIN=makapix.club

# --- Web app (preview) ---
# Port the Next.js server listens on (reverse-proxied by Caddy).
WEB_APP_PORT=3000

# --- Caddy / TLS ---
# Email for Let's Encrypt notifications
ACME_EMAIL=admin@makapix.club

# caddy-docker-proxy tag (reverse proxy that reads docker labels)
CADDY_DOCKER_PROXY_TAG=2.9-alpine
# Caddy tag for the CTA static server
CADDY_TAG=2.8.4-alpine

# --- Vault HTTP Server ---
# HTTP-only subdomain for serving artwork files to physical players.
# Players download images via plain HTTP for reduced TLS overhead.
VAULT_DOMAIN=vault.makapix.club
# Host path to the vault directory (same as root docker-compose.yml)
VAULT_HOST_PATH=/opt/makapix/vault

# --- Sqids (public IDs) ---
# MUST be set and kept stable. Changing this will change the encoding/decoding
# of all public_sqid values and will break canonical URLs.
#
# Recommended: base62 with ambiguous characters removed (0, 1, I, O, l, o)
SQIDS_ALPHABET=abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ23456789

# --- Legacy (removed) ---
# DEV_DOMAIN and DEV_APP_PORT are no longer used.
