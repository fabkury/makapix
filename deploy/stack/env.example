# Makapix VPS Stack Environment (deploy/stack)
#
# This file is used as a template for `deploy/stack/.env`.
# We use `env.example` (not `.env.example`) because dotfiles are globally ignored in this repo.
#
# Public websites (ONLY TWO):
# 1) CTA (static): https://makapix.club
# 2) Web (live preview): https://dev.makapix.club
#
# Naming conventions:
# - ROOT_*: the CTA domain (makapix.club)
# - WEB_*: the live preview domain/port (dev.makapix.club)
# - Legacy DEV_* are supported as fallbacks for older deployments.

# --- Domains ---
ROOT_DOMAIN=makapix.club
WEB_DOMAIN=dev.makapix.club

# --- Web app (preview) ---
# Port the Next.js server listens on (reverse-proxied by Caddy).
WEB_APP_PORT=3000

# --- Caddy / TLS ---
# Email for Let's Encrypt notifications
ACME_EMAIL=admin@makapix.club

# caddy-docker-proxy tag (reverse proxy that reads docker labels)
CADDY_DOCKER_PROXY_TAG=2.9-alpine
# Caddy tag for the CTA static server
CADDY_TAG=2.8.4-alpine

# --- Vault HTTP Server ---
# HTTP-only subdomain for serving artwork files to physical players.
# Players download images via plain HTTP for reduced TLS overhead.
VAULT_DOMAIN=vault.makapix.club
# Host path to the vault directory (same as root docker-compose.yml)
VAULT_HOST_PATH=/opt/makapix/vault

# --- Legacy (optional) ---
# Prefer WEB_DOMAIN / WEB_APP_PORT going forward.
# DEV_DOMAIN=dev.makapix.club
# DEV_APP_PORT=3000
